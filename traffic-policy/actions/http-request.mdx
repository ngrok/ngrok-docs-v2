---
title: HTTP Request
---
import ActionVariables from "/snippets/traffic-policy/actions/http-request/variables.mdx";
import ActionOverview from "/snippets/traffic-policy/actions/http-request/index.mdx";
import ActionVariablesDescription from "/snippets/traffic-policy/common/action-variables-description.mdx";
import ActionConfig from "/snippets/traffic-policy/actions/http-request/config.mdx";
import ActionBehavior from "/snippets/traffic-policy/actions/http-request/behavior.mdx";
import ActionExamples from "/snippets/traffic-policy/actions/http-request/examples/index.mdx";

import { ConfigField } from "/snippets/ConfigTable.jsx";

<ActionOverview />
<ActionConfig />
<ActionBehavior />
<ActionExamples />

## Action Result Variables

<ActionVariablesDescription />

	<ConfigField title="actions.ngrok.http_request.error.code" type="string">
	</ConfigField>
	<ConfigField title="actions.ngrok.http_request.error.message" type="string">
		<p>
			Message for an error that occurred during the invocation of an action.
		</p>
	</ConfigField>
	<ConfigField title="actions.ngrok.http_request.attempts" type="array of objects">
	  <p>
		  A list of HTTP responses for each request attempt.
		</p>
	  <div>
		  <ConfigField title="attempts[i].resolved_ip" type="string">
			  <p>
			    The IP address of the host returning the response.
		    </p>	  
			</ConfigField>
		  <ConfigField title="attempts[i].response_header" type="object">
			  <p>
				  A map of HTTP response headers.
		    </p>	  
			</ConfigField>
		  <ConfigField title="attempts[i].response_status_code" type="int">
			  <p>
			    The HTTP Status code for the response attempt.
		    </p>	  
			</ConfigField>
		  <ConfigField title="attempts[i].response_time_ms" type="string">
			  <p>
				  Time it took to recieve the response.
		    </p>	  
			</ConfigField>
		</div>
	</ConfigField>
	<ConfigField title="actions.ngrok.http_request.req" type="object">
	  <p>
		  The HTTP request.
		</p>
	  <div>
		  <ConfigField title="req.method" type="string">
		    <p>
			    The HTTP method of the request.
			  </p>
			</ConfigField>
		  <ConfigField title="req.header" type="object">
			  <p>
				  A map of HTTP request headers.
		    </p>	  
			</ConfigField>
		  <ConfigField title="req.url" type="string">
			  <p>
				  The request url.
		    </p>	  
			</ConfigField>
		  <ConfigField title="req.body" type="string">
			  <p>
				  The request body.
		    </p>	  
			</ConfigField>
		</div>
	</ConfigField>
	<ConfigField title="actions.ngrok.http_request.res" type="object">
	  <p>
		  The last attempted HTTP response. Unlike `actions.ngrok.attempts[i]` this variable also contains the response body.
		</p>
	  <div>
		  <ConfigField title="res.resolved_ip" type="string">
			  <p>
			    The IP address of the host returning the response.
		    </p>	  
			</ConfigField>
		  <ConfigField title="res.header" type="object">
			  <p>
				  A map of HTTP response headers.
		    </p>	  
			</ConfigField>
		  <ConfigField title="res.status_code" type="int">
			  <p>
			    The HTTP Status code for the response.
		    </p>	  
			</ConfigField>
		  <ConfigField title="res.time_ms" type="string">
			  <p>
				  Time it took to recieve the response.
		    </p>	  
			</ConfigField>
		  <ConfigField title="res.body" type="string">
			  <p>
				  The response body
		    </p>	  
			</ConfigField>
	  </div>
	</ConfigField>
