---
title: Custom Response Action
sidebarTitle: Custom Response
description: Return a hard-coded response back to the client that made a request to your endpoint.
---

import ExampleHtmlMaintenancePage from "/snippets/traffic-policy/actions/custom-response/examples/http-html-maintenance-page.mdx";
import ExampleJsonSingleInterpolation from "/snippets/traffic-policy/actions/custom-response/examples/http-json-single-interpolation.mdx";
import ExamplePlainTextMultipleInterpolation from "/snippets/traffic-policy/actions/custom-response/examples/http-plain-text-multiple-interpolation.mdx";
import ExampleUpstreamMaintenancePage from "/snippets/traffic-policy/actions/custom-response/examples/http-upstream-maintenance-page.mdx";
import { ConfigField } from "/snippets/ConfigTable.jsx";


The **Custom Response** Traffic Policy action enables you to return a hard-coded response back to the client that made a request to your endpoint.

## Configuration Reference

The [Traffic Policy](/traffic-policy/) configuration
reference for this action.

### Supported Phases

`on_http_request`, `on_http_response`

### Type

`custom-response`

### Configuration Fields

<ConfigField title="status_code" type="integer">
  <p>Status code of the custom response being sent back. Default is `200`.</p>
</ConfigField>
<ConfigField title="body" type="string" cel={true}>
  <p>Body of the custom response being sent back.</p>
</ConfigField>
<ConfigField title="headers" type="object" cel={true}>
  <p>
    Map of key-value headers of the custom response to be sent back. If
    `content-type` is not included in `headers`, this action will attempt to
    infer the correct `content-type`. Maximum properties `10`.
  </p>
</ConfigField>


## Behavior

If this action is executed, no subsequent actions in your traffic policy will be executed.

### `on_http_request` Usage

When used during the `on_http_request` phase, this action bypasses the upstream server and immediately returns the configured response to the caller.
Keep in mind that because this action bypasses the upstream server, request bodies will not be forwarded and will not be visible within the ngrok [Traffic Inspector](/obs/traffic-inspection/).

### `on_http_response` Usage

When used during the `on_http_response`, this action overwrites the response from the upstream server with the configured response.

### Inferring Content-Type

If the `content-type` header is not explicitly specified in `headers`, this action will attempt to infer the correct `content-type` based on the provided content.


## Examples

<ExampleHtmlMaintenancePage />
<ExampleUpstreamMaintenancePage />
<ExampleJsonSingleInterpolation />
<ExamplePlainTextMultipleInterpolation />

## Action Result Variables

The following variables are made available for use in subsequent expressions and CEL interpolations after the action has run. Variable values will only apply to the last action execution, results are not concatenated.

This action does not set any variables after it has been executed.

