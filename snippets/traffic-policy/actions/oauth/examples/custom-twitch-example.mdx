<CodeGroup>
```yaml policy.yml {4-11}
on_http_request:
  - actions:
      - type: oauth
        config:
          provider: twitch
          client_id: '{your app''s oauth client id}'
          client_secret: '{your app''s oauth client secret}'
          scopes:
            - user:read:email
            - openid
```

```json policy.json {5-16}
{
  "on_http_request": [
    {
      "actions": [
        {
          "type": "oauth",
          "config": {
            "provider": "twitch",
            "client_id": "{your app's oauth client id}",
            "client_secret": "{your app's oauth client secret}",
            "scopes": [
              "user:read:email",
              "openid"
            ]
          }
        }
      ]
    }
  ]
}
```
</CodeGroup>
