<CodeGroup>
```yaml policy.yml {4-12}
on_http_request:
  - actions:
      - type: oauth
        config:
          provider: gitlab
          client_id: '{your app''s oauth client id}'
          client_secret: '{your app''s oauth client secret}'
          scopes:
            - openid
            - profile
            - email
```

```json policy.json {5-17}
{
  "on_http_request": [
    {
      "actions": [
        {
          "type": "oauth",
          "config": {
            "provider": "gitlab",
            "client_id": "{your app's oauth client id}",
            "client_secret": "{your app's oauth client secret}",
            "scopes": [
              "openid",
              "profile",
              "email"
            ]
          }
        }
      ]
    }
  ]
}
```
</CodeGroup>
